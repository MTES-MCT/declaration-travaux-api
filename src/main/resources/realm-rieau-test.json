{
    "realm": "rieau",
    "displayName": "RIE'AU",
    "enabled": true,
    "requiredCredentials": [
        "password"
    ],
    "users": [
        {
            "username": "jean.martin",
            "email": "jean.martin@monfai.fr",
            "lastName": "Martin",
            "firstName": "Jean",
            "enabled": true,
            "credentials": [
                {
                    "type": "password",
                    "value": "jean.martin"
                }
            ],
            "realmRoles": [
                "DEPOSANT",
                "BETA"
            ]
        },
        {
            "username": "jacques.dupont",
            "email": "jacques.dupont@monfai.fr",
            "lastName": "Dupont",
            "firstName": "Jacques",
            "enabled": true,
            "credentials": [
                {
                    "type": "password",
                    "value": "jacques.dupont"
                }
            ],
            "realmRoles": [
                "DEPOSANT"
            ]
        },
        {
            "username": "service-account-rieau-api",
            "enabled": true,
            "serviceAccountClientId": "rieau-api",
            "clientRoles": {
                "rieau-api": [
                    "uma_protection"
                ]
            }
        }
    ],
    "roles": {
        "realm": [
            {
                "name": "DEPOSANT",
                "description": "Déposant"
            },
            {
                "name": "BETA",
                "description": "Beta testeur ayant accès à des fonctionnalités en beta"
            }
        ]
    },
    "clients": [
        {
            "clientId": "rieau-api",
            "enabled": true,
            "baseUrl": "http://localhost:5000",
            "redirectUris": [
                "http://localhost:5000/*"
            ],
            "secret": "secret",
            "bearerOnly" : true,
            "directAccessGrantsEnabled": true,
            "authorizationServicesEnabled": true,
            "protocol" : "openid-connect",
            "defaultClientScopes" : [ "web-origins", "role_list", "profile", "roles", "email" ],
            "optionalClientScopes" : [ "address", "phone", "offline_access", "microprofile-jwt" ],
            "authorizationSettings": {
                "allowRemoteResourceManagement": false,
                "policyEnforcementMode": "ENFORCING",
                "resources": [
                    {
                        "name": "Default Resource",
                        "uri": "/*"
                    }
                ],
                "policies": [
                    {
                        "name": "Default Policy",
                        "description": "A policy that grants access only for users within this realm",
                        "type": "js",
                        "logic": "POSITIVE",
                        "decisionStrategy": "AFFIRMATIVE",
                        "config": {
                            "code": "// by default, grants any permission associated with this policy\n$evaluation.grant();\n"
                        }
                    },
                    {
                        "name": "Default Resource Permission",
                        "description": "A permission that applies to the default resource",
                        "type": "resource",
                        "logic": "POSITIVE",
                        "decisionStrategy": "UNANIMOUS",
                        "config": {
                            "resources": "[\"Default Resource\"]",
                            "applyPolicies": "[\"Default Policy\"]"
                        }
                    }
                ]
            },
            "protocolMappers" : [ {
                "name" : "email",
                "protocol" : "openid-connect",
                "protocolMapper" : "oidc-usermodel-property-mapper",
                "consentRequired" : true,
                "consentText" : "${email}",
                "config" : {
                  "claim.name" : "email",
                  "jsonType.label" : "String",
                  "user.attribute" : "email",
                  "access.token.claim" : "true",
                  "id.token.claim" : "true"
                }
              }, {
                "name" : "full name",
                "protocol" : "openid-connect",
                "protocolMapper" : "oidc-full-name-mapper",
                "consentRequired" : true,
                "consentText" : "${fullName}",
                "config" : {
                  "access.token.claim" : "true",
                  "id.token.claim" : "true"
                }
              }, {
                "name" : "family name",
                "protocol" : "openid-connect",
                "protocolMapper" : "oidc-usermodel-property-mapper",
                "consentRequired" : true,
                "consentText" : "${familyName}",
                "config" : {
                  "claim.name" : "family_name",
                  "jsonType.label" : "String",
                  "user.attribute" : "lastName",
                  "access.token.claim" : "true",
                  "id.token.claim" : "true"
                }
              }, {
                "name" : "username",
                "protocol" : "openid-connect",
                "protocolMapper" : "oidc-usermodel-property-mapper",
                "consentRequired" : true,
                "consentText" : "${username}",
                "config" : {
                  "claim.name" : "preferred_username",
                  "jsonType.label" : "String",
                  "user.attribute" : "username",
                  "access.token.claim" : "true",
                  "id.token.claim" : "true"
                }
              }, {
                "name" : "given name",
                "protocol" : "openid-connect",
                "protocolMapper" : "oidc-usermodel-property-mapper",
                "consentRequired" : true,
                "consentText" : "${givenName}",
                "config" : {
                  "claim.name" : "given_name",
                  "jsonType.label" : "String",
                  "user.attribute" : "firstName",
                  "access.token.claim" : "true",
                  "id.token.claim" : "true"
                }
              } ]
        }
    ]
}